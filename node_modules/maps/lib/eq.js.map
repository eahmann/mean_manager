{"version":3,"sources":["../src/eq.js"],"names":[],"mappings":"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","file":"eq.js","sourcesContent":["import {isObject, own} from './util'\nconst equals = Symbol.for('equals')\n\nconst eq = (a, b) => {\n\tif (Object.is(a, b)) return true\n\tconst at = typeof a, bt = typeof b\n\tif (at !== bt) return false\n\tif (at !== 'object') return false\n\tif (a === null || b === null) return false\n\tif (typeof a[equals] === 'function') return a[equals](b)\n\treturn false\n}\nexport default eq\n\nObject.prototype[equals] = function (x) {\n\tif (!isObject(x)) return false\n\tconst p = Object.getPrototypeOf(this), xp = Object.getPrototypeOf(x)\n\tif (p !== xp) return false\n\tconst keys = Object.getOwnPropertySymbols(this).concat(Object.getOwnPropertyNames(this))\n\tfor (let i = 0; i < keys.length; ++i) {\n\t\tconst k = keys[i]\n\t\tif (/^Symbol\\(id\\)_/.test(k)) continue // bypass core-js Map hack\n\t\tif (!eq(this[k], x[k])) return false\n\t}\n\treturn true\n}\n\nArray.prototype[equals] = function (x) {\n\tif (!Array.isArray(x)) return false\n\tif (this.length !== x.length) return false\n\tfor (let i = 0; i < this.length; ++i) {\n\t\tif (!(eq(this[i], x[i]))) return false\n\t}\n\treturn true\n}\n\nMap.prototype[equals] = function (x) {\n\tif (!(x instanceof Map)) return false\n\tif (this.size !== x.size) return false\n\tfor (const [key, value] of this) {\n\t\tif (!eq(x.get(key), value)) return false\n\t\tif (value === undefined && !x.has(key)) return false\n\t}\n\treturn true\n}\n\nSet.prototype[equals] = function (x) {\n\tif (!(x instanceof Set)) return false\n\tif (this.size !== x.size) return false\n\tfor (const value of this) {\n\t\tif (!x.has(value)) return false\n\t}\n\treturn true\n}\n"]}